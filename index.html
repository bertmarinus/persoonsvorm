<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Persoonsvorm - LearnForge</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --primary: #667eea;
            --primary-dark: #5568d3;
            --secondary: #48bb78;
            --card-bg: #ffffff;
            --text-dark: #2d3748;
            --text-light: #718096;
            --border: #e2e8f0;
            --success: #48bb78;
            --error: #f56565;
        }

        body {
            font-family: 'Nunito', -apple-system, sans-serif;
            background: linear-gradient(135deg, #e0e7ff 0%, #fce7f3 50%, #dbeafe 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container { max-width: 900px; margin: 0 auto; }

        /* TERUG LINK */
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--text-light);
            text-decoration: none;
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 18px;
            transition: color 0.3s;
        }
        .back-link:hover { color: var(--primary); }

        /* SCORE BALK */
        .score-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            border-radius: 18px;
            padding: 14px 24px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            flex-wrap: wrap;
            gap: 12px;
        }

        .score-info {
            display: flex;
            align-items: center;
            gap: 18px;
            flex-wrap: wrap;
        }

        .score-chip {
            display: flex;
            align-items: center;
            gap: 8px;
            font-family: 'Fredoka', sans-serif;
            font-size: 19px;
            font-weight: 600;
            color: var(--text-dark);
        }

        .score-dot { width: 12px; height: 12px; border-radius: 50%; }
        .score-dot.goed { background: var(--success); }
        .score-dot.fout { background: var(--error); }

        .score-teller {
            font-family: 'Fredoka', sans-serif;
            font-size: 21px;
            font-weight: 700;
            color: var(--primary);
            background: #e0e7ff;
            padding: 6px 18px;
            border-radius: 20px;
        }

        .reset-btn {
            background: none;
            border: 2px solid var(--border);
            border-radius: 10px;
            padding: 8px 16px;
            font-family: 'Nunito', sans-serif;
            font-size: 14px;
            font-weight: 700;
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.2s;
        }
        .reset-btn:hover { border-color: var(--error); color: var(--error); }

        /* VRAAGKAART */
        .question-card {
            background: var(--primary);
            border-radius: 24px;
            padding: 36px 44px;
            margin-bottom: 22px;
            color: white;
            text-align: center;
            box-shadow: 0 10px 40px rgba(102, 126, 234, 0.3);
        }

        .question-label {
            font-size: 13px;
            font-weight: 700;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            opacity: 0.75;
            margin-bottom: 14px;
        }

        .question-sentence {
            font-family: 'Fredoka', sans-serif;
            font-size: 32px;
            font-weight: 700;
            line-height: 1.4;
        }

        /* CONTENT KAART */
        .content-card {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 38px 44px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
        }

        .card-icon {
            width: 68px; height: 68px;
            border-radius: 18px;
            background: #dbeafe;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 34px;
            margin: 0 auto 18px;
        }

        .card-title {
            font-family: 'Fredoka', sans-serif;
            font-size: 28px;
            font-weight: 600;
            color: var(--text-dark);
            text-align: center;
            margin-bottom: 6px;
        }

        .card-subtitle {
            color: var(--text-light);
            font-size: 16px;
            text-align: center;
            margin-bottom: 28px;
        }

        /* INVOER */
        .text-input {
            width: 100%;
            padding: 18px 22px;
            border: 3px solid var(--border);
            border-radius: 16px;
            font-family: 'Nunito', sans-serif;
            font-size: 22px;
            font-weight: 700;
            text-align: center;
            color: var(--text-dark);
            transition: all 0.3s;
            margin-bottom: 20px;
        }

        .text-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.12);
        }

        .text-input::placeholder { color: #cbd5e0; }

        /* KNOPPEN */
        .button-row {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 14px;
        }

        .btn-check {
            padding: 16px 24px;
            background: var(--primary);
            border: none;
            border-radius: 14px;
            font-family: 'Fredoka', sans-serif;
            font-size: 20px;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-check:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 28px rgba(102, 126, 234, 0.4);
        }

        .btn-hint {
            padding: 16px 24px;
            background: #fef3c7;
            border: 2px solid #f6d860;
            border-radius: 14px;
            font-family: 'Fredoka', sans-serif;
            font-size: 20px;
            font-weight: 600;
            color: #92400e;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-hint:hover {
            background: #fde68a;
            transform: translateY(-2px);
        }

        /* =============================================
           FEEDBACK POPUPS ‚Äî goed en fout
           Stijl: gecentreerde kaart midden in scherm
        ============================================= */
        .feedback-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.35);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 999;
            padding: 20px;
            animation: fadeIn 0.15s ease;
        }

        .feedback-popup {
            width: 320px;
            border-radius: 28px;
            padding: 44px 36px 38px;
            display: flex;
            flex-direction: column;
            align-items: center;
            animation: popIn 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 20px 60px rgba(0,0,0,0.25);
            text-align: center;
        }

        .feedback-popup.goed { background: #4caf7d; }
        .feedback-popup.fout { background: #e86060; }

        .feedback-cirkel {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 38px;
            margin-bottom: 22px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.12);
        }

        .feedback-tekst {
            font-family: 'Fredoka', sans-serif;
            font-size: 34px;
            font-weight: 700;
            color: white;
        }

        .feedback-sub {
            font-family: 'Nunito', sans-serif;
            font-size: 15px;
            font-weight: 600;
            color: rgba(255,255,255,0.85);
            margin-top: 8px;
        }

        /* =============================================
           HINT MODAL
        ============================================= */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.2s ease;
        }

        @keyframes fadeIn { from { opacity:0; } to { opacity:1; } }

        .modal-content {
            background: white;
            border-radius: 22px;
            padding: 32px 40px;
            max-width: 420px;
            width: 92%;
            text-align: left;
            animation: popIn 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 20px 60px rgba(0,0,0,0.25);
        }

        @keyframes popIn {
            from { opacity:0; transform:scale(0.85); }
            to   { opacity:1; transform:scale(1); }
        }

        .modal-header {
            display: flex;
            align-items: center;
            gap: 14px;
            margin-bottom: 20px;
        }

        .modal-icon-circle {
            width: 44px; height: 44px;
            border-radius: 50%;
            background: #dbeafe;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            flex-shrink: 0;
        }

        .modal-title {
            font-family: 'Fredoka', sans-serif;
            font-size: 26px;
            font-weight: 700;
            color: var(--text-dark);
        }

        .hint-antwoord {
            background: #e0e7ff;
            border-radius: 12px;
            padding: 14px 18px;
            margin-bottom: 16px;
            font-family: 'Fredoka', sans-serif;
            font-size: 19px;
            font-weight: 600;
            color: var(--primary-dark);
        }

        .hint-antwoord-woord {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
        }

        .hint-subtext {
            font-weight: 700;
            color: var(--text-dark);
            font-size: 16px;
            margin-bottom: 10px;
        }

        .hint-tips { list-style: none; padding: 0; }

        .hint-tips li {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 9px 0;
            font-size: 16px;
            color: var(--text-dark);
            border-bottom: 1px solid var(--border);
            line-height: 1.5;
        }

        .hint-tips li:last-child { border-bottom: none; }

        .hint-tips li::before {
            content: "‚Ä¢";
            color: var(--primary);
            font-weight: 700;
            font-size: 22px;
            line-height: 1.1;
            flex-shrink: 0;
        }

        .modal-footer { margin-top: 22px; text-align: right; }

        .btn-ok {
            padding: 12px 32px;
            background: var(--primary);
            border: none;
            border-radius: 12px;
            font-family: 'Fredoka', sans-serif;
            font-size: 18px;
            font-weight: 700;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 14px rgba(102,126,234,0.35);
        }

        .btn-ok:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102,126,234,0.45);
        }

        /* EINDSCHERM */
        .eindscherm { display: none; text-align: center; }

        .eind-score {
            font-family: 'Fredoka', sans-serif;
            font-size: 72px;
            font-weight: 700;
            color: var(--primary);
            margin: 8px 0;
        }

        .eind-label  { color: var(--text-light); font-size: 18px; margin-bottom: 12px; }
        .eind-bericht { font-size: 18px; color: var(--text-dark); margin-bottom: 30px; }

        .final-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 14px;
        }

        .btn-secondary {
            padding: 15px 20px;
            border: 3px solid var(--border);
            background: white;
            border-radius: 14px;
            font-family: 'Fredoka', sans-serif;
            font-size: 17px;
            font-weight: 700;
            color: var(--text-dark);
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: block;
            text-align: center;
        }

        .btn-secondary:hover { border-color: var(--text-light); background: #f7fafc; }

        .btn-success {
            padding: 15px 20px;
            background: var(--secondary);
            border: none;
            border-radius: 14px;
            font-family: 'Fredoka', sans-serif;
            font-size: 17px;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 6px 20px rgba(72,187,120,0.3);
            text-decoration: none;
            display: block;
            text-align: center;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(72,187,120,0.4);
        }

        .hidden { display: none !important; }

        /* =============================================
           RESPONSIVE
        ============================================= */
        @media (max-width: 900px) {
            .content-card { padding: 32px 30px; }
            .question-card { padding: 28px 30px; }
            .question-sentence { font-size: 26px; }
        }

        @media (max-width: 700px) {
            body { padding: 14px; }
            .question-card { padding: 24px 20px; }
            .question-sentence { font-size: 22px; }
            .content-card { padding: 26px 20px; }
            .card-title { font-size: 23px; }
            .final-buttons { grid-template-columns: 1fr; }
            .feedback-popup { width: 280px; padding: 36px 28px 30px; }
            .feedback-tekst { font-size: 26px; }
        }

        @media (max-width: 480px) {
            .question-sentence { font-size: 19px; }
            .text-input { font-size: 19px; }
            .button-row { grid-template-columns: 1fr; }
            .score-info { gap: 10px; }
            .feedback-cirkel { width: 66px; height: 66px; font-size: 32px; }
        }

        /* iPad landscape */
        @media (orientation: landscape) and (max-height: 768px) {
            body { padding: 12px; }
            .question-card { padding: 18px 40px; margin-bottom: 14px; }
            .question-label { margin-bottom: 8px; }
            .question-sentence { font-size: 26px; }
            .content-card { padding: 22px 40px; }
            .card-icon { width: 52px; height: 52px; font-size: 26px; margin-bottom: 12px; }
            .card-title { font-size: 22px; margin-bottom: 4px; }
            .card-subtitle { font-size: 14px; margin-bottom: 16px; }
            .text-input { padding: 14px 22px; margin-bottom: 14px; }
            .score-bar { padding: 10px 20px; margin-bottom: 14px; }
            .feedback-popup { width: 260px; padding: 32px 24px 26px; }
        }
    </style>
</head>
<body>
<div class="container">

    <!-- Terug link -->
    <div style="display:flex; gap:16px; margin-bottom:18px; flex-wrap:wrap;">
        <a href="https://bertmarinus.github.io/learnforge/" class="back-link">üè† Hoofdmenu</a>
        <a href="https://bertmarinus.github.io/learnforge/spelling-index.html" class="back-link">‚Üê Terug naar overzicht</a>
    </div>



    <!-- Vraagkaart -->
    <div class="question-card" id="questionCard">
        <div class="question-label">Zoek de persoonsvorm</div>
        <div class="question-sentence" id="questionSentence">‚Ä¶</div>
    </div>

    <!-- Oefening kaart -->
    <div class="content-card" id="oefeningCard">
        <div class="card-icon">üîç</div>
        <div class="card-title">Wat is de persoonsvorm?</div>
        <div class="card-subtitle">Typ de persoonsvorm en druk op Enter of Controleer.</div>

        <input
            type="text"
            class="text-input"
            id="antwoordInput"
            placeholder="typ hier‚Ä¶"
            autocomplete="off"
            autocorrect="off"
            autocapitalize="none"
            spellcheck="false"
            enterkeyhint="done"
        >

        <div class="button-row">
            <button class="btn-hint" id="hintBtn" onclick="showHint()">üí° Hint</button>
            <button class="btn-check" id="checkBtn" onclick="controleer()">‚úì Controleer</button>
        </div>
    </div>

    <!-- Eindscherm -->
    <div class="content-card eindscherm" id="eindscherm">
        <div class="card-icon" style="background:#d1fae5;">üèÜ</div>
        <div class="card-title">Alle zinnen gehad!</div>
        <div class="eind-score" id="eindScore">0/0</div>
        <div class="eind-label">goed / totaal geprobeerd</div>
        <div class="eind-bericht" id="eindBericht"></div>
        <div class="final-buttons">
            <button class="btn-secondary" onclick="herstart()">üîÅ Opnieuw</button>
            <a href="https://bertmarinus.github.io/learnforge/spelling-index.html" class="btn-success">‚Üê Terug naar overzicht</a>
            <a href="https://bertmarinus.github.io/learnforge/" class="btn-secondary">üè† Hoofdmenu</a>
        </div>
    </div>

</div>

<!-- FEEDBACK POPUP: GOED -->
<div class="feedback-overlay hidden" id="feedbackGoed">
    <div class="feedback-popup goed">
        <div class="feedback-cirkel">‚úî</div>
        <div class="feedback-tekst">Goed zo! üéâ</div>
        <div class="feedback-sub" id="feedbackGoedSub"></div>
    </div>
</div>

<!-- FEEDBACK POPUP: FOUT -->
<div class="feedback-overlay hidden" id="feedbackFout">
    <div class="feedback-popup fout">
        <div class="feedback-cirkel">‚úï</div>
        <div class="feedback-tekst">Helaas!</div>
        <div class="feedback-sub" id="feedbackFoutSub"></div>
    </div>
</div>

<!-- HINT MODAL -->
<div class="modal-overlay hidden" id="modalHint">
    <div class="modal-content">
        <div class="modal-header">
            <div class="modal-icon-circle">üí°</div>
            <div class="modal-title">Hint</div>
        </div>

        <div class="hint-subtext">Hoe vind ik de persoonsvorm?</div>
        <ul class="hint-tips">
            <li>Zet de zin in een andere tijd</li>
            <li>Maak er een vraagzin van</li>
        </ul>

        <div class="modal-footer">
            <button class="btn-ok" onclick="sluitHint()">OK</button>
        </div>
    </div>
</div>

<script>
    // ============================================================
    // DATA
    // ============================================================
    // Alle 200 oefeningen ‚Äî worden bij elke start willekeurig geschud
    const alleOefeningen = [

        // === POSITIE 2: PV is het tweede woord ===
        { zin: "Hij loopt elke dag naar de bakker.", pv: "loopt" },
        { zin: "Zij zingt een liedje onder de douche.", pv: "zingt" },
        { zin: "Wij eten vanavond bij oma thuis.", pv: "eten" },
        { zin: "Jij fietst veel te snel door de straat.", pv: "fietst" },
        { zin: "Hij sliep gisteren tot tien uur.", pv: "sliep" },
        { zin: "Zij bakte een heerlijke appeltaart.", pv: "bakte" },
        { zin: "Hij werkt elke avond tot laat.", pv: "werkt" },
        { zin: "Zij leest graag dikke boeken.", pv: "leest" },
        { zin: "Jij tekende een prachtig portret.", pv: "tekende" },
        { zin: "Hij sprong over de brede sloot.", pv: "sprong" },
        { zin: "Zij danste de hele avond door.", pv: "danste" },
        { zin: "Hij schrijft elke dag in zijn dagboek.", pv: "schrijft" },
        { zin: "Zij kookt elke avond voor haar gezin.", pv: "kookt" },
        { zin: "Jij vergeet altijd je sleutels thuis.", pv: "vergeet" },
        { zin: "Hij dronk een groot glas water.", pv: "dronk" },
        { zin: "Zij reed met haar fiets naar school.", pv: "reed" },
        { zin: "Hij vond een munt op straat.", pv: "vond" },
        { zin: "Zij schilderde een mooi landschap.", pv: "schilderde" },
        { zin: "Hij belde zijn moeder elke zondag.", pv: "belde" },
        { zin: "Zij kocht een nieuwe jas in de stad.", pv: "kocht" },
        { zin: "Hij viel van zijn fiets op de brug.", pv: "viel" },
        { zin: "Zij stuurde een kaartje naar haar oma.", pv: "stuurde" },
        { zin: "Hij ving een vlinder in de tuin.", pv: "ving" },
        { zin: "Zij droeg een rode tas op haar rug.", pv: "droeg" },
        { zin: "Hij las een spannend detektiveverhaal.", pv: "las" },
        { zin: "Zij zong het hoogste lied van de avond.", pv: "zong" },
        { zin: "Hij gooide de bal over het hek.", pv: "gooide" },
        { zin: "Zij plukte bloemen in de wei.", pv: "plukte" },
        { zin: "Hij zocht zijn jas overal in huis.", pv: "zocht" },
        { zin: "Zij wachtte lang op de bus.", pv: "wachtte" },
        { zin: "Hij rende zo snel hij kon.", pv: "rende" },
        { zin: "Zij stapte voorzichtig over de plassen.", pv: "stapte" },
        { zin: "Hij hield de deur open voor zijn oma.", pv: "hield" },
        { zin: "Zij fluisterde een geheim in zijn oor.", pv: "fluisterde" },
        { zin: "Hij klom in de grote kastanjeboom.", pv: "klom" },
        { zin: "Zij verloor haar portemonnee in de trein.", pv: "verloor" },
        { zin: "Hij sneed het brood in dunne plakjes.", pv: "sneed" },
        { zin: "Zij bood haar stoel aan de oude man.", pv: "bood" },
        { zin: "Hij dook van de hoogste springplank.", pv: "dook" },
        { zin: "Zij naaide een jurk voor het schoolfeest.", pv: "naaide" },
        { zin: "Hij at de boterham in twee happen op.", pv: "at" },
        { zin: "Zij breide een warme trui voor de winter.", pv: "breide" },
        { zin: "Hij galoppeerde over het natte weiland.", pv: "galoppeerde" },
        { zin: "Zij klapte heel hard na het optreden.", pv: "klapte" },
        { zin: "Hij smolt van de warmte in de auto.", pv: "smolt" },
        { zin: "Zij landde het vliegtuig heel soepel.", pv: "landde" },
        { zin: "Hij wreef zijn handen warm bij het vuur.", pv: "wreef" },
        { zin: "Zij graasde rustig op het groene veld.", pv: "graasde" },
        { zin: "Hij sloop voorzichtig door het hoge gras.", pv: "sloop" },
        { zin: "Zij schreef een lang gedicht over de zee.", pv: "schreef" },

        // === POSITIE 3: PV is het derde woord ===
        { zin: "De hond blafte de hele nacht.", pv: "blafte" },
        { zin: "De leraar schrijft de opdracht op het bord.", pv: "schrijft" },
        { zin: "De kinderen spelen buiten in de tuin.", pv: "spelen" },
        { zin: "Mijn zus leest elke avond een boek.", pv: "leest" },
        { zin: "De trein reed gisteren veel te laat.", pv: "reed" },
        { zin: "De baby sliep de hele middag rustig.", pv: "sliep" },
        { zin: "Mijn broer werkt elke avond in de supermarkt.", pv: "werkt" },
        { zin: "De meisjes zongen een prachtig lied.", pv: "zongen" },
        { zin: "Mijn vader kookt elke avond voor ons.", pv: "kookt" },
        { zin: "Het vliegtuig landt zo meteen op Schiphol.", pv: "landt" },
        { zin: "De klas zong een liedje voor de jarige.", pv: "zong" },
        { zin: "Het kind tekende een prachtig schilderij.", pv: "tekende" },
        { zin: "De kat sprong op de vensterbank.", pv: "sprong" },
        { zin: "Mijn oma bakt altijd heerlijke koekjes.", pv: "bakt" },
        { zin: "De jongen vond een portemonnee op straat.", pv: "vond" },
        { zin: "Het meisje danste op het grote podium.", pv: "danste" },
        { zin: "Mijn neef rijdt elke dag naar zijn werk.", pv: "rijdt" },
        { zin: "De vogels zongen vroeg in de ochtend.", pv: "zongen" },
        { zin: "Het paard liep rustig over het veld.", pv: "liep" },
        { zin: "De man dronk een kopje sterke koffie.", pv: "dronk" },
        { zin: "Mijn zus rende snel naar de bushalte.", pv: "rende" },
        { zin: "Het publiek klapte heel erg hard.", pv: "klapte" },
        { zin: "De kok sneed de groenten heel fijn.", pv: "sneed" },
        { zin: "Mijn vriend stuurde een grappig berichtje.", pv: "stuurde" },
        { zin: "De dokter luisterde aandachtig naar de pati√´nt.", pv: "luisterde" },
        { zin: "Het team verloor de wedstrijd met twee punten.", pv: "verloor" },
        { zin: "Mijn tante werkte vroeger als verpleegkundige.", pv: "werkte" },
        { zin: "De directeur sprak de leerlingen toe.", pv: "sprak" },
        { zin: "Het kind huilde om zijn kapotte speelgoed.", pv: "huilde" },
        { zin: "Mijn broer ving een grote vis.", pv: "ving" },
        { zin: "De burgemeester opende het nieuwe gebouw.", pv: "opende" },
        { zin: "Het meisje gooide de bal heel ver.", pv: "gooide" },
        { zin: "Mijn moeder kocht nieuwe gordijnen voor de woonkamer.", pv: "kocht" },
        { zin: "Het water stroomde door de smalle goot.", pv: "stroomde" },
        { zin: "De lerares vertelde een spannend verhaal.", pv: "vertelde" },
        { zin: "Mijn vader fietste vroeger naar zijn werk.", pv: "fietste" },
        { zin: "De spelers vierden hun overwinning uitbundig.", pv: "vierden" },
        { zin: "De kinderen bouwden een grote sneeuwpop.", pv: "bouwden" },
        { zin: "Mijn zusje schilderde haar kamer geel.", pv: "schilderde" },
        { zin: "De chauffeur stopte voor het rode stoplicht.", pv: "stopte" },
        { zin: "De soldaten marcheerden door de drukke stad.", pv: "marcheerden" },
        { zin: "Mijn opa vertelde graag over zijn jeugd.", pv: "vertelde" },
        { zin: "De postbode bracht elke dag veel brieven.", pv: "bracht" },
        { zin: "De bakker bakt elke ochtend vers brood.", pv: "bakt" },
        { zin: "De schilder verfde de muren lichtblauw.", pv: "verfde" },
        { zin: "De zwemmer dook van de hoogste plank.", pv: "dook" },
        { zin: "De timmerman bouwde een mooie houten kast.", pv: "bouwde" },
        { zin: "De muzikant speelde een mooi stuk op piano.", pv: "speelde" },
        { zin: "De tuinman plantte rozen langs het pad.", pv: "plantte" },
        { zin: "De fotograaf maakte een prachtige trouwfoto.", pv: "maakte" },

        // === POSITIE 4: PV is het vierde woord ===
        { zin: "Gisteren bakte oma een heerlijke taart.", pv: "bakte" },
        { zin: "Vroeger woonde opa in een klein dorp.", pv: "woonde" },
        { zin: "Gisteren speelde het team zijn beste wedstrijd.", pv: "speelde" },
        { zin: "Vorig jaar won ons team de competitie.", pv: "won" },
        { zin: "Gisteren zong zij het mooiste lied.", pv: "zong" },
        { zin: "Vroeger speelde zij viool in het orkest.", pv: "speelde" },
        { zin: "Gisteren belde hij zijn oude vriend op.", pv: "belde" },
        { zin: "Gisteren verloor het elftal met drie punten.", pv: "verloor" },
        { zin: "Vroeger reed opa altijd op een motor.", pv: "reed" },
        { zin: "Gisteren stuurde zij tien appjes naar haar vriendin.", pv: "stuurde" },
        { zin: "Vroeger werkte opa op de boerderij.", pv: "werkte" },
        { zin: "Gisteren las zij een heel dik boek uit.", pv: "las" },
        { zin: "Vroeger bouwde opa zijn eigen meubels.", pv: "bouwde" },
        { zin: "Gisteren kocht hij een nieuwe gitaar.", pv: "kocht" },
        { zin: "Vroeger zwom zij elke dag in het zwembad.", pv: "zwom" },
        { zin: "Gisteren won zij de eerste prijs op school.", pv: "won" },
        { zin: "Vroeger speelde hij buiten met de buurkinderen.", pv: "speelde" },
        { zin: "Gisteren viel zij van haar fiets bij de brug.", pv: "viel" },
        { zin: "Vroeger verdiende hij zijn geld als timmerman.", pv: "verdiende" },
        { zin: "Gisteren leende hij drie boeken in de bibliotheek.", pv: "leende" },
        { zin: "Gisteren vond hij een munt op de stoep.", pv: "vond" },
        { zin: "Vroeger fietste papa elke dag naar zijn werk.", pv: "fietste" },
        { zin: "Vandaag haalt mama de kinderen op.", pv: "haalt" },
        { zin: "Gisteren sliep het kind de hele middag.", pv: "sliep" },
        { zin: "Vorig jaar verhuisde het gezin naar Utrecht.", pv: "verhuisde" },
        { zin: "Gisteren repareerde oom Jan de kapotte fiets.", pv: "repareerde" },
        { zin: "Vroeger vertelde opa verhalen bij het vuur.", pv: "vertelde" },
        { zin: "Vandaag helpt mijn broer met verhuizen.", pv: "helpt" },
        { zin: "Gisteren schreef zij een lang gedicht.", pv: "schreef" },
        { zin: "Vorig jaar bouwde opa een nieuw tuinhuis.", pv: "bouwde" },
        { zin: "Gisteren waste mama alle lakens op.", pv: "waste" },
        { zin: "Vroeger zwom opa elke dag in de rivier.", pv: "zwom" },
        { zin: "Gisteren tekende hij een stripverhaal voor zijn zusje.", pv: "tekende" },
        { zin: "Vorig jaar reed zij mee in de wielerwedstrijd.", pv: "reed" },
        { zin: "Vandaag kookt papa een uitgebreid ontbijt.", pv: "kookt" },
        { zin: "Gisteren vluchtte de dief snel om de hoek.", pv: "vluchtte" },
        { zin: "Vroeger graasde de koe op dit veld.", pv: "graasde" },
        { zin: "Vandaag speelt onze klas de finale.", pv: "speelt" },
        { zin: "Gisteren won onze school de toneelprijs.", pv: "won" },
        { zin: "Vorig jaar vierde oma haar tachtigste verjaardag.", pv: "vierde" },
        { zin: "Gisteren bloeiden de rozen in de tuin.", pv: "bloeiden" },
        { zin: "Vroeger fietste oma naar de markt.", pv: "fietste" },
        { zin: "Gisteren sneeuwd het hard in het noorden.", pv: "sneeuwd" },
        { zin: "Vandaag traint het team voor de bekerfinale.", pv: "traint" },
        { zin: "Vorig jaar schilderde hij de schuur opnieuw.", pv: "schilderde" },
        { zin: "Gisteren plukte zij aardbeien in de tuin.", pv: "plukte" },
        { zin: "Vroeger rende opa de berg op en neer.", pv: "rende" },
        { zin: "Vandaag zingt het koor in de kerk.", pv: "zingt" },
        { zin: "Gisteren las opa zijn kleinkinderen voor.", pv: "las" },
        { zin: "Vorig jaar won zij een gouden medaille.", pv: "won" },

        // === POSITIE 5: PV is het vijfde woord ===
        { zin: "Elke dag fietst Jan naar zijn werk.", pv: "fietst" },
        { zin: "Elke avond leest mama een verhaaltje voor.", pv: "leest" },
        { zin: "Iedere ochtend loopt zij een rondje.", pv: "loopt" },
        { zin: "Elke week schrijft zij een lange brief.", pv: "schrijft" },
        { zin: "Elke dag eet hij een boterham met kaas.", pv: "eet" },
        { zin: "Elke nacht droomt hij over een verre reis.", pv: "droomt" },
        { zin: "Elke zaterdag helpt zij haar buurvrouw.", pv: "helpt" },
        { zin: "Elke zondag kookt hij een uitgebreid ontbijt.", pv: "kookt" },
        { zin: "Elke week bezoekt zij haar zieke tante.", pv: "bezoekt" },
        { zin: "Elke dag oefent hij op zijn gitaar.", pv: "oefent" },
        { zin: "Elke morgen zingt zij onder de douche.", pv: "zingt" },
        { zin: "Elke dag drinkt hij drie koppen koffie.", pv: "drinkt" },
        { zin: "Elke week bakt zij vers brood thuis.", pv: "bakt" },
        { zin: "Elke avond belt hij zijn beste vriend.", pv: "belt" },
        { zin: "Elke dag tekent hij iets in zijn schetsboek.", pv: "tekent" },
        { zin: "Elke ochtend wast zij haar lange haar.", pv: "wast" },
        { zin: "Elke dag loopt de hond in het park.", pv: "loopt" },
        { zin: "Elke nacht slaapt het kind met zijn knuffel.", pv: "slaapt" },
        { zin: "Elke maand spaart hij wat geld op.", pv: "spaart" },
        { zin: "Elke dag leest opa de ochtendkrant.", pv: "leest" },
        { zin: "Elke week zwemt zij een kilometer in het bad.", pv: "zwemt" },
        { zin: "Elke avond schrijft zij in haar dagboek.", pv: "schrijft" },
        { zin: "Elke dag werkt hij hard op kantoor.", pv: "werkt" },
        { zin: "Elke zomer groeit de tuin heel snel.", pv: "groeit" },
        { zin: "Elke morgen loopt papa naar het station.", pv: "loopt" },
        { zin: "Elke dag helpt zij haar kleine broertje.", pv: "helpt" },
        { zin: "Elke week speelt hij gitaar in een band.", pv: "speelt" },
        { zin: "Elke dag eet de kat zijn bak leeg.", pv: "eet" },
        { zin: "Elke avond kijkt opa naar het journaal.", pv: "kijkt" },
        { zin: "Elke dag rijdt hij met de tram naar school.", pv: "rijdt" },
        { zin: "Elke week traint zij twee keer bij de sportclub.", pv: "traint" },
        { zin: "Elke ochtend eet hij een bord havermout.", pv: "eet" },
        { zin: "Elke avond leest zij haar kinderen voor.", pv: "leest" },
        { zin: "Elke dag klimt hij op zijn mountainbike.", pv: "klimt" },
        { zin: "Elke zomer fietst opa naar het strand.", pv: "fietst" },
        { zin: "Elke dag zingt het vogeltje in de boom.", pv: "zingt" },
        { zin: "Elke avond speelt zij piano voor haar ouders.", pv: "speelt" },
        { zin: "Elke week ruimt hij zijn kamer netjes op.", pv: "ruimt" },
        { zin: "Elke dag wandelt oma door het stadspark.", pv: "wandelt" },
        { zin: "Elke avond bakt papa een lekker toetje.", pv: "bakt" },
        { zin: "Elke dag fietst zij naar haar vriendin.", pv: "fietst" },
        { zin: "Elke week koopt oma verse bloemen op de markt.", pv: "koopt" },
        { zin: "Elke dag draagt hij zijn favoriete pet.", pv: "draagt" },
        { zin: "Elke ochtend drinkt zij een glas sinaasappelsap.", pv: "drinkt" },
        { zin: "Elke avond poetst hij zorgvuldig zijn tanden.", pv: "poetst" },
        { zin: "Elke dag zoekt de kat een warm plekje.", pv: "zoekt" },
        { zin: "Elke week ontvangt zij een brief van haar vriend.", pv: "ontvangt" },
        { zin: "Elke dag springt hij op zijn trampoline.", pv: "springt" },
        { zin: "Elke maand bezoekt hij het museum in de stad.", pv: "bezoekt" },
        { zin: "Elke avond voedt zij de vissen in het aquarium.", pv: "voedt" },
    ];    ];

    // Shuffle functie (Fisher-Yates)
    function shuffle(arr) {
        const a = [...arr];
        for (let i = a.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [a[i], a[j]] = [a[j], a[i]];
        }
        return a;
    }

    // Bij elke start worden de oefeningen willekeurig geschud
    let oefeningen = shuffle(alleOefeningen);

    let huidigIndex = 0;
    let aantalGoed  = 0;
    let aantalFout  = 0;
    let bezig       = false;
    let feedbackTimer = null;

    // ============================================================
    // LAAD OEFENING
    // ============================================================
    function laadOefening(index) {
        if (index >= oefeningen.length) { toonEindscherm(); return; }
        document.getElementById('questionSentence').textContent = oefeningen[index].zin;
        const antwoordEl = document.getElementById('antwoordInput');
        antwoordEl.value = '';
        antwoordEl.disabled = false;
        antwoordEl.className = 'text-input';
        // Focus alleen op niet-touch apparaten (voorkomt problemen op iOS)
        if (!('ontouchstart' in window)) antwoordEl.focus();
        bezig = false;
    }

    // ============================================================
    // SCORE
    // ============================================================
    function updateScore() {
        document.getElementById('aantalGoed').textContent = aantalGoed;
        document.getElementById('aantalFout').textContent = aantalFout;
        document.getElementById('scoreTeller').textContent =
            aantalGoed + ' / ' + (aantalGoed + aantalFout);
    }

    function resetScore() {
        aantalGoed = aantalFout = huidigIndex = 0;
        updateScore();
        sluitAlleFeedback();
        document.getElementById('oefeningCard').style.display = 'block';
        document.getElementById('questionCard').style.display = 'block';
        document.getElementById('eindscherm').style.display   = 'none';
        laadOefening(0);
    }

    // ============================================================
    // CONTROLEER
    // ============================================================
    function controleer() {
        if (bezig) return;
        if (!document.getElementById('modalHint').classList.contains('hidden')) return;

        const antwoordEl2 = document.getElementById('antwoordInput');
        const invoer = antwoordEl2.value.trim().toLowerCase();
        const juist  = oefeningen[huidigIndex].pv.toLowerCase();
        if (!invoer) return;

        bezig = true;
        antwoordEl2.disabled = true;

        if (invoer === juist) {
            aantalGoed++;
            updateScore();
            toonFeedback('goed', '"' + oefeningen[huidigIndex].pv + '" is correct!', 1400);
        } else {
            aantalFout++;
            updateScore();
            toonFeedback('fout', 'Het antwoord is: ' + oefeningen[huidigIndex].pv, 2000);
        }
    }

    // ============================================================
    // FEEDBACK POPUP
    // ============================================================
    function toonFeedback(type, subtekst, duur) {
        sluitAlleFeedback();

        if (type === 'goed') {
            document.getElementById('feedbackGoedSub').textContent = subtekst;
            document.getElementById('feedbackGoed').classList.remove('hidden');
        } else {
            document.getElementById('feedbackFoutSub').textContent = subtekst;
            document.getElementById('feedbackFout').classList.remove('hidden');
        }

        feedbackTimer = setTimeout(() => {
            sluitAlleFeedback();
            huidigIndex++;
            laadOefening(huidigIndex);
        }, duur);
    }

    function sluitAlleFeedback() {
        document.getElementById('feedbackGoed').classList.add('hidden');
        document.getElementById('feedbackFout').classList.add('hidden');
        if (feedbackTimer) { clearTimeout(feedbackTimer); feedbackTimer = null; }
    }

    // ============================================================
    // HINT
    // ============================================================
    function showHint() {
        document.getElementById('modalHint').classList.remove('hidden');
    }

    function sluitHint() {
        document.getElementById('modalHint').classList.add('hidden');
        if (!bezig) document.getElementById('antwoordInput').focus();
    }

    // ============================================================
    // EINDSCHERM
    // ============================================================
    function toonEindscherm() {
        document.getElementById('oefeningCard').style.display = 'none';
        document.getElementById('questionCard').style.display = 'none';
        document.getElementById('eindscherm').style.display   = 'block';
        const totaal = aantalGoed + aantalFout;
        document.getElementById('eindScore').textContent = aantalGoed + ' / ' + totaal;
        const r = totaal > 0 ? aantalGoed / totaal : 0;
        document.getElementById('eindBericht').textContent =
            r === 1   ? 'üåü Fantastisch! Alles goed!' :
            r >= 0.75 ? 'üëç Goed gedaan! Blijf oefenen!' :
            r >= 0.5  ? 'üôÇ Aardig werk, oefen nog wat meer.' :
                        'üí™ Blijf oefenen, het lukt je!';
    }

    function herstart() {
        oefeningen = shuffle(alleOefeningen);  // nieuwe volgorde bij elke herstart
        aantalGoed = aantalFout = huidigIndex = 0;
        updateScore();
        document.getElementById('oefeningCard').style.display = 'block';
        document.getElementById('questionCard').style.display = 'block';
        document.getElementById('eindscherm').style.display   = 'none';
        laadOefening(0);
    }

    // ============================================================
    // INPUT EVENTS ‚Äî werkt op desktop (keydown) √©n mobiel (keyup)
    // ============================================================
    const antwoordInp = document.getElementById('antwoordInput');

    // Desktop: Enter via keydown
    antwoordInp.addEventListener('keydown', function(e) {
        if (e.key === 'Enter') {
            e.preventDefault();
            controleer();
        }
    });

    // Mobiel: Enter via keyup (iOS/Android)
    antwoordInp.addEventListener('keyup', function(e) {
        if (e.key === 'Enter' || e.keyCode === 13) {
            e.preventDefault();
            controleer();
        }
    });

    // Knop: ook touchend voor iOS
    document.getElementById('checkBtn').addEventListener('touchend', function(e) {
        e.preventDefault();
        controleer();
    });

    document.getElementById('hintBtn').addEventListener('touchend', function(e) {
        e.preventDefault();
        showHint();
    });

    // Hint modal OK knop touchend
    document.querySelector('.btn-ok').addEventListener('touchend', function(e) {
        e.preventDefault();
        sluitHint();
    });

    // ============================================================
    // START
    // ============================================================
    laadOefening(0);
    updateScore();
</script>
</body>
</html>
