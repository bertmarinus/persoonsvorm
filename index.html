<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Persoonsvorm - LearnForge</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --primary: #667eea;
            --primary-dark: #5568d3;
            --secondary: #48bb78;
            --card-bg: #ffffff;
            --text-dark: #2d3748;
            --text-light: #718096;
            --border: #e2e8f0;
            --success: #48bb78;
            --error: #f56565;
        }

        body {
            font-family: 'Nunito', -apple-system, sans-serif;
            background: linear-gradient(135deg, #e0e7ff 0%, #fce7f3 50%, #dbeafe 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container { max-width: 900px; margin: 0 auto; }

        /* TERUG LINK */
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--text-light);
            text-decoration: none;
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 18px;
            transition: color 0.3s;
        }
        .back-link:hover { color: var(--primary); }

        /* SCORE BALK */
        .score-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            border-radius: 18px;
            padding: 14px 24px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            flex-wrap: wrap;
            gap: 12px;
        }

        .score-info {
            display: flex;
            align-items: center;
            gap: 18px;
            flex-wrap: wrap;
        }

        .score-chip {
            display: flex;
            align-items: center;
            gap: 8px;
            font-family: 'Fredoka', sans-serif;
            font-size: 19px;
            font-weight: 600;
            color: var(--text-dark);
        }

        .score-dot { width: 12px; height: 12px; border-radius: 50%; }
        .score-dot.goed { background: var(--success); }
        .score-dot.fout { background: var(--error); }

        .score-teller {
            font-family: 'Fredoka', sans-serif;
            font-size: 21px;
            font-weight: 700;
            color: var(--primary);
            background: #e0e7ff;
            padding: 6px 18px;
            border-radius: 20px;
        }

        .reset-btn {
            background: none;
            border: 2px solid var(--border);
            border-radius: 10px;
            padding: 8px 16px;
            font-family: 'Nunito', sans-serif;
            font-size: 14px;
            font-weight: 700;
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.2s;
        }
        .reset-btn:hover { border-color: var(--error); color: var(--error); }

        /* VRAAGKAART */
        .question-card {
            background: var(--primary);
            border-radius: 24px;
            padding: 36px 44px;
            margin-bottom: 22px;
            color: white;
            text-align: center;
            box-shadow: 0 10px 40px rgba(102, 126, 234, 0.3);
        }

        .question-label {
            font-size: 13px;
            font-weight: 700;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            opacity: 0.75;
            margin-bottom: 14px;
        }

        .question-sentence {
            font-family: 'Fredoka', sans-serif;
            font-size: 32px;
            font-weight: 700;
            line-height: 1.4;
        }

        /* CONTENT KAART */
        .content-card {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 38px 44px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
        }

        .card-icon {
            width: 68px; height: 68px;
            border-radius: 18px;
            background: #dbeafe;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 34px;
            margin: 0 auto 18px;
        }

        .card-title {
            font-family: 'Fredoka', sans-serif;
            font-size: 28px;
            font-weight: 600;
            color: var(--text-dark);
            text-align: center;
            margin-bottom: 6px;
        }

        .card-subtitle {
            color: var(--text-light);
            font-size: 16px;
            text-align: center;
            margin-bottom: 28px;
        }

        /* INVOER */
        .text-input {
            width: 100%;
            padding: 18px 22px;
            border: 3px solid var(--border);
            border-radius: 16px;
            font-family: 'Nunito', sans-serif;
            font-size: 22px;
            font-weight: 700;
            text-align: center;
            color: var(--text-dark);
            transition: all 0.3s;
            margin-bottom: 20px;
        }

        .text-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.12);
        }

        .text-input::placeholder { color: #cbd5e0; }

        /* KNOPPEN */
        .button-row {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 14px;
        }

        .btn-check {
            padding: 16px 24px;
            background: var(--primary);
            border: none;
            border-radius: 14px;
            font-family: 'Fredoka', sans-serif;
            font-size: 20px;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-check:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 28px rgba(102, 126, 234, 0.4);
        }

        .btn-hint {
            padding: 16px 24px;
            background: #fef3c7;
            border: 2px solid #f6d860;
            border-radius: 14px;
            font-family: 'Fredoka', sans-serif;
            font-size: 20px;
            font-weight: 600;
            color: #92400e;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-hint:hover {
            background: #fde68a;
            transform: translateY(-2px);
        }

        /* =============================================
           FEEDBACK POPUPS ‚Äî goed en fout
           Stijl: gecentreerde kaart midden in scherm
        ============================================= */
        .feedback-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.35);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 999;
            padding: 20px;
            animation: fadeIn 0.15s ease;
        }

        .feedback-popup {
            width: 320px;
            border-radius: 28px;
            padding: 44px 36px 38px;
            display: flex;
            flex-direction: column;
            align-items: center;
            animation: popIn 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 20px 60px rgba(0,0,0,0.25);
            text-align: center;
        }

        .feedback-popup.goed { background: #4caf7d; }
        .feedback-popup.fout { background: #e86060; }

        .feedback-cirkel {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 38px;
            margin-bottom: 22px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.12);
        }

        .feedback-tekst {
            font-family: 'Fredoka', sans-serif;
            font-size: 34px;
            font-weight: 700;
            color: white;
        }

        .feedback-sub {
            font-family: 'Nunito', sans-serif;
            font-size: 15px;
            font-weight: 600;
            color: rgba(255,255,255,0.85);
            margin-top: 8px;
        }

        /* =============================================
           HINT MODAL
        ============================================= */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.2s ease;
        }

        @keyframes fadeIn { from { opacity:0; } to { opacity:1; } }

        .modal-content {
            background: white;
            border-radius: 22px;
            padding: 32px 40px;
            max-width: 420px;
            width: 92%;
            text-align: left;
            animation: popIn 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 20px 60px rgba(0,0,0,0.25);
        }

        @keyframes popIn {
            from { opacity:0; transform:scale(0.85); }
            to   { opacity:1; transform:scale(1); }
        }

        .modal-header {
            display: flex;
            align-items: center;
            gap: 14px;
            margin-bottom: 20px;
        }

        .modal-icon-circle {
            width: 44px; height: 44px;
            border-radius: 50%;
            background: #dbeafe;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            flex-shrink: 0;
        }

        .modal-title {
            font-family: 'Fredoka', sans-serif;
            font-size: 26px;
            font-weight: 700;
            color: var(--text-dark);
        }

        .hint-antwoord {
            background: #e0e7ff;
            border-radius: 12px;
            padding: 14px 18px;
            margin-bottom: 16px;
            font-family: 'Fredoka', sans-serif;
            font-size: 19px;
            font-weight: 600;
            color: var(--primary-dark);
        }

        .hint-antwoord-woord {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
        }

        .hint-subtext {
            font-weight: 700;
            color: var(--text-dark);
            font-size: 16px;
            margin-bottom: 10px;
        }

        .hint-tips { list-style: none; padding: 0; }

        .hint-tips li {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 9px 0;
            font-size: 16px;
            color: var(--text-dark);
            border-bottom: 1px solid var(--border);
            line-height: 1.5;
        }

        .hint-tips li:last-child { border-bottom: none; }

        .hint-tips li::before {
            content: "‚Ä¢";
            color: var(--primary);
            font-weight: 700;
            font-size: 22px;
            line-height: 1.1;
            flex-shrink: 0;
        }

        .modal-footer { margin-top: 22px; text-align: right; }

        .btn-ok {
            padding: 12px 32px;
            background: var(--primary);
            border: none;
            border-radius: 12px;
            font-family: 'Fredoka', sans-serif;
            font-size: 18px;
            font-weight: 700;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 14px rgba(102,126,234,0.35);
        }

        .btn-ok:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102,126,234,0.45);
        }

        /* EINDSCHERM */
        .eindscherm { display: none; text-align: center; }

        .eind-score {
            font-family: 'Fredoka', sans-serif;
            font-size: 72px;
            font-weight: 700;
            color: var(--primary);
            margin: 8px 0;
        }

        .eind-label  { color: var(--text-light); font-size: 18px; margin-bottom: 12px; }
        .eind-bericht { font-size: 18px; color: var(--text-dark); margin-bottom: 30px; }

        .final-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 14px;
        }

        .btn-secondary {
            padding: 15px 20px;
            border: 3px solid var(--border);
            background: white;
            border-radius: 14px;
            font-family: 'Fredoka', sans-serif;
            font-size: 17px;
            font-weight: 700;
            color: var(--text-dark);
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: block;
            text-align: center;
        }

        .btn-secondary:hover { border-color: var(--text-light); background: #f7fafc; }

        .btn-success {
            padding: 15px 20px;
            background: var(--secondary);
            border: none;
            border-radius: 14px;
            font-family: 'Fredoka', sans-serif;
            font-size: 17px;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 6px 20px rgba(72,187,120,0.3);
            text-decoration: none;
            display: block;
            text-align: center;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(72,187,120,0.4);
        }

        .hidden { display: none !important; }

        /* =============================================
           RESPONSIVE
        ============================================= */
        @media (max-width: 900px) {
            .content-card { padding: 32px 30px; }
            .question-card { padding: 28px 30px; }
            .question-sentence { font-size: 26px; }
        }

        @media (max-width: 700px) {
            body { padding: 14px; }
            .question-card { padding: 24px 20px; }
            .question-sentence { font-size: 22px; }
            .content-card { padding: 26px 20px; }
            .card-title { font-size: 23px; }
            .final-buttons { grid-template-columns: 1fr; }
            .feedback-popup { width: 280px; padding: 36px 28px 30px; }
            .feedback-tekst { font-size: 26px; }
        }

        @media (max-width: 480px) {
            .question-sentence { font-size: 19px; }
            .text-input { font-size: 19px; }
            .button-row { grid-template-columns: 1fr; }
            .score-info { gap: 10px; }
            .feedback-cirkel { width: 66px; height: 66px; font-size: 32px; }
        }

        /* iPad landscape */
        @media (orientation: landscape) and (max-height: 768px) {
            body { padding: 12px; }
            .question-card { padding: 18px 40px; margin-bottom: 14px; }
            .question-label { margin-bottom: 8px; }
            .question-sentence { font-size: 26px; }
            .content-card { padding: 22px 40px; }
            .card-icon { width: 52px; height: 52px; font-size: 26px; margin-bottom: 12px; }
            .card-title { font-size: 22px; margin-bottom: 4px; }
            .card-subtitle { font-size: 14px; margin-bottom: 16px; }
            .text-input { padding: 14px 22px; margin-bottom: 14px; }
            .score-bar { padding: 10px 20px; margin-bottom: 14px; }
            .feedback-popup { width: 260px; padding: 32px 24px 26px; }
        }
    </style>
</head>
<body>
<div class="container">

    <!-- Terug link -->
    <div style="display:flex; gap:16px; margin-bottom:18px; flex-wrap:wrap;">
        <a href="https://bertmarinus.github.io/learnforge/" class="back-link">üè† Hoofdmenu</a>
        <a href="https://bertmarinus.github.io/learnforge/spelling-index.html" class="back-link">‚Üê Terug naar overzicht</a>
    </div>

    <!-- Score balk -->
    <div class="score-bar">
        <div class="score-info">
            <div class="score-chip">
                <div class="score-dot goed"></div>
                Goed: <strong id="aantalGoed">0</strong>
            </div>
            <div class="score-chip">
                <div class="score-dot fout"></div>
                Fout: <strong id="aantalFout">0</strong>
            </div>
            <div class="score-teller" id="scoreTeller">0 / 0</div>
        </div>
        <button class="reset-btn" onclick="resetScore()">‚Ü∫ Reset score</button>
    </div>

    <!-- Vraagkaart -->
    <div class="question-card" id="questionCard">
        <div class="question-label">Zoek de persoonsvorm</div>
        <div class="question-sentence" id="questionSentence">‚Ä¶</div>
    </div>

    <!-- Oefening kaart -->
    <div class="content-card" id="oefeningCard">
        <div class="card-icon">üîç</div>
        <div class="card-title">Wat is de persoonsvorm?</div>
        <div class="card-subtitle">Typ de persoonsvorm en druk op Enter of Controleer.</div>

        <input
            type="text"
            class="text-input"
            id="antwoordInput"
            placeholder="typ hier‚Ä¶"
            autocomplete="off"
            autocorrect="off"
            autocapitalize="off"
            spellcheck="false"
            inputmode="text"
        >

        <div class="button-row">
            <button class="btn-hint"  onclick="showHint()">üí° Hint</button>
            <button class="btn-check" id="checkBtn" onclick="controleer()">‚úì Controleer</button>
        </div>
    </div>

    <!-- Eindscherm -->
    <div class="content-card eindscherm" id="eindscherm">
        <div class="card-icon" style="background:#d1fae5;">üèÜ</div>
        <div class="card-title">Alle zinnen gehad!</div>
        <div class="eind-score" id="eindScore">0/0</div>
        <div class="eind-label">goed / totaal geprobeerd</div>
        <div class="eind-bericht" id="eindBericht"></div>
        <div class="final-buttons">
            <button class="btn-secondary" onclick="herstart()">üîÅ Opnieuw</button>
            <a href="https://bertmarinus.github.io/learnforge/spelling-index.html" class="btn-success">‚Üê Terug naar overzicht</a>
            <a href="https://bertmarinus.github.io/learnforge/" class="btn-secondary">üè† Hoofdmenu</a>
        </div>
    </div>

</div>

<!-- FEEDBACK POPUP: GOED -->
<div class="feedback-overlay hidden" id="feedbackGoed">
    <div class="feedback-popup goed">
        <div class="feedback-cirkel">‚úî</div>
        <div class="feedback-tekst">Goed zo! üéâ</div>
        <div class="feedback-sub" id="feedbackGoedSub"></div>
    </div>
</div>

<!-- FEEDBACK POPUP: FOUT -->
<div class="feedback-overlay hidden" id="feedbackFout">
    <div class="feedback-popup fout">
        <div class="feedback-cirkel">‚úï</div>
        <div class="feedback-tekst">Helaas!</div>
        <div class="feedback-sub" id="feedbackFoutSub"></div>
    </div>
</div>

<!-- HINT MODAL -->
<div class="modal-overlay hidden" id="modalHint">
    <div class="modal-content">
        <div class="modal-header">
            <div class="modal-icon-circle">üí°</div>
            <div class="modal-title">Hint</div>
        </div>

        <div class="hint-antwoord">
            De persoonsvorm is: <span class="hint-antwoord-woord" id="hintAntwoord">‚Ä¶</span>
        </div>

        <div class="hint-subtext">Hoe vind ik de persoonsvorm?</div>
        <ul class="hint-tips">
            <li>Zet de zin in een andere tijd</li>
            <li>Maak er een vraagzin van</li>
        </ul>

        <div class="modal-footer">
            <button class="btn-ok" onclick="sluitHint()">OK</button>
        </div>
    </div>
</div>

<script>
    // ============================================================
    // DATA
    // ============================================================
    // Alle 200 oefeningen ‚Äî worden bij elke start willekeurig geschud
    const alleOefeningen = [
        // PV op positie 2 (tweede woord)
        { zin: "Hij loopt elke dag naar de bakker.", pv: "loopt" },
        { zin: "Zij zingt een liedje onder de douche.", pv: "zingt" },
        { zin: "Wij eten vanavond bij oma thuis.", pv: "eten" },
        { zin: "Jij fietst veel te snel door de straat.", pv: "fietst" },
        { zin: "Het regent al de hele ochtend.", pv: "regent" },
        { zin: "Hij sliep gisteren tot tien uur.", pv: "sliep" },
        { zin: "Zij bakte een heerlijke appeltaart.", pv: "bakte" },
        { zin: "Wij zwommen gisteren in het meer.", pv: "zwommen" },
        { zin: "Hij werkt elke avond tot laat.", pv: "werkt" },
        { zin: "Zij leest graag dikke boeken.", pv: "leest" },
        { zin: "Wij reden met de trein naar Amsterdam.", pv: "reden" },
        { zin: "Jij tekende een prachtig portret.", pv: "tekende" },
        { zin: "Hij sprong over de sloot.", pv: "sprong" },
        { zin: "Zij danste de hele avond.", pv: "danste" },
        { zin: "Wij lachten om zijn grappige verhaal.", pv: "lachten" },
        { zin: "Hij schrijft elke dag in zijn dagboek.", pv: "schrijft" },
        { zin: "Zij kookt elke avond voor haar gezin.", pv: "kookt" },
        { zin: "Wij spelen elke vrijdag voetbal.", pv: "spelen" },
        { zin: "Jij vergeet altijd je sleutels.", pv: "vergeet" },
        { zin: "Hij dronk een groot glas water.", pv: "dronk" },
        { zin: "Zij reed met haar fiets naar school.", pv: "reed" },
        { zin: "Wij wandelden door het bos.", pv: "wandelden" },
        { zin: "Hij vond een munt op straat.", pv: "vond" },
        { zin: "Zij schilderde een mooi landschap.", pv: "schilderde" },
        { zin: "Wij keken naar een spannende film.", pv: "keken" },
        { zin: "Hij belde zijn moeder elke zondag.", pv: "belde" },
        { zin: "Zij kocht een nieuwe jas in de stad.", pv: "kocht" },
        { zin: "Wij hoorden een hard geluid buiten.", pv: "hoorden" },
        { zin: "Hij viel van zijn fiets op de brug.", pv: "viel" },
        { zin: "Zij stuurde een kaartje naar haar oma.", pv: "stuurde" },
        { zin: "Wij brachten een cadeautje mee.", pv: "brachten" },
        { zin: "Hij ving een vlinder in de tuin.", pv: "ving" },
        { zin: "Zij droeg een rode tas op haar rug.", pv: "droeg" },
        { zin: "Wij wonnen de wedstrijd met vijf punten.", pv: "wonnen" },
        { zin: "Hij las een spannend detektiveverhaal.", pv: "las" },
        { zin: "Zij zong het hoogste lied op het podium.", pv: "zong" },
        { zin: "Wij bouwden een hut in het bos.", pv: "bouwden" },
        { zin: "Hij gooide de bal over het hek.", pv: "gooide" },
        { zin: "Zij plukte bloemen in de wei.", pv: "plukte" },
        { zin: "Wij sliepen in een tent op de camping.", pv: "sliepen" },
        { zin: "Hij zocht zijn jas overal in huis.", pv: "zocht" },
        { zin: "Zij wachtte lang op de bus.", pv: "wachtte" },
        { zin: "Wij zongen samen een oud liedje.", pv: "zongen" },
        { zin: "Hij rende zo snel hij kon.", pv: "rende" },
        { zin: "Zij bood haar stoel aan de oude man.", pv: "bood" },
        { zin: "Wij dronken thee bij het open vuur.", pv: "dronken" },
        { zin: "Hij sneed het brood in dunne plakjes.", pv: "sneed" },
        { zin: "Zij stapte voorzichtig over de plassen.", pv: "stapte" },
        { zin: "Wij pakten onze koffers voor de vakantie.", pv: "pakten" },
        { zin: "Hij hield de deur open voor zijn oma.", pv: "hield" },

        // PV op positie 3 (derde woord)
        { zin: "De hond blafte de hele nacht.", pv: "blafte" },
        { zin: "De leraar schrijft de opdracht op.", pv: "schrijft" },
        { zin: "De kinderen spelen buiten in de tuin.", pv: "spelen" },
        { zin: "Mijn zus leest elke avond een boek.", pv: "leest" },
        { zin: "De trein reed gisteren veel te laat.", pv: "reed" },
        { zin: "De baby sliep de hele middag rustig.", pv: "sliep" },
        { zin: "Mijn broer werkt elke avond in de supermarkt.", pv: "werkt" },
        { zin: "De meisjes zongen een prachtig lied.", pv: "zongen" },
        { zin: "Mijn vader kookt elke avond voor ons.", pv: "kookt" },
        { zin: "Het vliegtuig landt zo meteen op Schiphol.", pv: "landt" },
        { zin: "De klas zong een liedje voor de jarige.", pv: "zong" },
        { zin: "Het kind tekende een prachtig schilderij.", pv: "tekende" },
        { zin: "De kat sprong op de vensterbank.", pv: "sprong" },
        { zin: "Mijn oma bakt altijd heerlijke koekjes.", pv: "bakt" },
        { zin: "De jongen vond een portemonnee op straat.", pv: "vond" },
        { zin: "Het meisje danste op het podium.", pv: "danste" },
        { zin: "De politie zocht de verdachte in de buurt.", pv: "zocht" },
        { zin: "Mijn neef rijdt elke dag naar zijn werk.", pv: "rijdt" },
        { zin: "De vogels zongen vroeg in de ochtend.", pv: "zongen" },
        { zin: "Het paard liep rustig over het veld.", pv: "liep" },
        { zin: "De man dronk een kopje koffie.", pv: "dronk" },
        { zin: "Mijn zus rende snel naar de bushalte.", pv: "rende" },
        { zin: "De school sloot vroeg door de sneeuw.", pv: "sloot" },
        { zin: "Het publiek klapte heel hard.", pv: "klapte" },
        { zin: "De kok sneed de groenten heel fijn.", pv: "sneed" },
        { zin: "Mijn vriend stuurde een grappig berichtje.", pv: "stuurde" },
        { zin: "De dokter luisterde aandachtig naar de pati√´nt.", pv: "luisterde" },
        { zin: "Het team verloor de wedstrijd met twee punten.", pv: "verloor" },
        { zin: "De leerling beantwoordde alle vragen goed.", pv: "beantwoordde" },
        { zin: "Mijn tante werkte vroeger als verpleegkundige.", pv: "werkte" },
        { zin: "De directeur sprak de leerlingen toe.", pv: "sprak" },
        { zin: "Het kind huilde om zijn kapotte speelgoed.", pv: "huilde" },
        { zin: "De fietsers reden langs het kanaal.", pv: "reden" },
        { zin: "Mijn broer ving een grote vis.", pv: "ving" },
        { zin: "De burgemeester opende het nieuwe gebouw.", pv: "opende" },
        { zin: "Het meisje gooide de bal heel ver.", pv: "gooide" },
        { zin: "De winkel sloot al om vijf uur.", pv: "sloot" },
        { zin: "Mijn moeder kocht nieuwe gordijnen.", pv: "kocht" },
        { zin: "De hond sleep lekker voor de haard.", pv: "sliep" },
        { zin: "Het water stroomde door de goot.", pv: "stroomde" },
        { zin: "De lerares vertelde een spannend verhaal.", pv: "vertelde" },
        { zin: "Mijn vader fietste vroeger naar zijn werk.", pv: "fietste" },
        { zin: "De spelers vierden hun overwinning uitbundig.", pv: "vierden" },
        { zin: "Het publiek stond op voor de artiest.", pv: "stond" },
        { zin: "De kinderen bouwden een sneeuwpop.", pv: "bouwden" },
        { zin: "Mijn zusje schilderde haar kamer geel.", pv: "schilderde" },
        { zin: "De chauffeur stopte voor het rode stoplicht.", pv: "stopte" },
        { zin: "Het boek vertelt over een avontuurlijke reis.", pv: "vertelt" },
        { zin: "De soldaten marcheerden door de stad.", pv: "marcheerden" },
        { zin: "Mijn opa vertelde graag over vroeger.", pv: "vertelde" },

        // PV op positie 4 (vierde woord)
        { zin: "Gisteren bakte oma een heerlijke taart.", pv: "bakte" },
        { zin: "Elke dag fietst Jan naar zijn werk.", pv: "fietst" },
        { zin: "In de zomer zwemmen wij in de zee.", pv: "zwemmen" },
        { zin: "Vroeger woonde opa in een klein dorp.", pv: "woonde" },
        { zin: "Elke avond leest mama een verhaaltje voor.", pv: "leest" },
        { zin: "Gisteren speelde het team zijn beste wedstrijd.", pv: "speelde" },
        { zin: "Iedere ochtend loopt zij een rondje door het park.", pv: "loopt" },
        { zin: "Elke zomer gaan wij naar de camping.", pv: "gaan" },
        { zin: "In de winter rijden kinderen op de schaats.", pv: "rijden" },
        { zin: "Gisteren vond hij een portemonnee op straat.", pv: "vond" },
        { zin: "Elke week schrijft zij een brief aan haar pen pal.", pv: "schrijft" },
        { zin: "Vorig jaar won ons team de competitie.", pv: "won" },
        { zin: "Elke dag eet hij een boterham met kaas.", pv: "eet" },
        { zin: "Gisteren zong zij het mooiste lied van de avond.", pv: "zong" },
        { zin: "In de klas lacht iedereen om zijn grap.", pv: "lacht" },
        { zin: "Elke nacht droomt hij over een verre reis.", pv: "droomt" },
        { zin: "Vroeger speelde zij viool in het orkest.", pv: "speelde" },
        { zin: "Gisteren belde hij zijn oude vriend op.", pv: "belde" },
        { zin: "Elke zaterdag helpt zij haar buurvrouw.", pv: "helpt" },
        { zin: "In de pauze eten de leerlingen een appel.", pv: "eten" },
        { zin: "Elke zondag kookt hij een uitgebreid ontbijt.", pv: "kookt" },
        { zin: "Gisteren verloor het elftal met drie punten.", pv: "verloor" },
        { zin: "Vroeger reed opa altijd op een motor.", pv: "reed" },
        { zin: "Elke week bezoekt zij haar zieke tante.", pv: "bezoekt" },
        { zin: "In de tuin groeit een grote appelboom.", pv: "groeit" },
        { zin: "Elke dag oefent hij op zijn gitaar.", pv: "oefent" },
        { zin: "Gisteren stuurde zij tien berichten naar haar vriendin.", pv: "stuurde" },
        { zin: "Vroeger werkte opa op de boerderij.", pv: "werkte" },
        { zin: "Elke morgen zingt zij onder de douche.", pv: "zingt" },
        { zin: "In het bos verdwalen wandelaars soms.", pv: "verdwalen" },
        { zin: "Elke dag drinkt hij drie koppen koffie.", pv: "drinkt" },
        { zin: "Gisteren las zij een heel dik boek uit.", pv: "las" },
        { zin: "Vroeger bouwde opa zijn eigen meubels.", pv: "bouwde" },
        { zin: "In de supermarkt werkte zij altijd graag.", pv: "werkte" },
        { zin: "Elke dag tekent hij iets nieuws in zijn schetsboek.", pv: "tekent" },
        { zin: "Gisteren kocht hij een nieuwe gitaar.", pv: "kocht" },
        { zin: "Vroeger zwom zij elke dag in het zwembad.", pv: "zwom" },
        { zin: "Elke week bakt zij vers brood voor haar familie.", pv: "bakt" },
        { zin: "In de haven lagen veel grote schepen.", pv: "lagen" },
        { zin: "Elke avond belt hij zijn beste vriend.", pv: "belt" },
        { zin: "Gisteren won zij de eerste prijs op school.", pv: "won" },
        { zin: "Vroeger speelde hij altijd buiten met de buurkinderen.", pv: "speelde" },
        { zin: "Elke dag loopt de hond een uur in het park.", pv: "loopt" },
        { zin: "In de keuken bakt papa elke zondag pannenkoeken.", pv: "bakt" },
        { zin: "Elke nacht slaapt het kind met zijn knuffel.", pv: "slaapt" },
        { zin: "Gisteren viel zij van haar fiets bij de brug.", pv: "viel" },
        { zin: "Vroeger verdiende hij zijn geld als timmerman.", pv: "verdiende" },
        { zin: "Elke week wast zij haar haar op vrijdag.", pv: "wast" },
        { zin: "In de bibliotheek leende hij drie boeken.", pv: "leende" },
        { zin: "Elke dag hielp hij zijn moeder met de boodschappen.", pv: "hielp" },

        // Extra zinnen ‚Äî gemengde PV-positie
        { zin: "De postbode bracht elke dag veel brieven.", pv: "bracht" },
        { zin: "Onze buurman zaagt hout in zijn schuur.", pv: "zaagt" },
        { zin: "Het kleine meisje fluisterde een geheim.", pv: "fluisterde" },
        { zin: "De scheidsrechter floot voor rust.", pv: "floot" },
        { zin: "Zijn broer verloor zijn sleutels in de trein.", pv: "verloor" },
        { zin: "De bakker bakt elke ochtend vers brood.", pv: "bakt" },
        { zin: "Haar zusje huilde om de kapotte pop.", pv: "huilde" },
        { zin: "De schilder verfde de muren lichtblauw.", pv: "verfde" },
        { zin: "Onze hond blafte naar elke fietser.", pv: "blafte" },
        { zin: "De voetballer schopte de bal in het doel.", pv: "schopte" },
        { zin: "Het publiek juichte heel luid.", pv: "juichte" },
        { zin: "De verpleegster gaf de pati√´nt zijn medicijn.", pv: "gaf" },
        { zin: "Zijn vader las elke avond de krant.", pv: "las" },
        { zin: "De zwemmer dook van de hoogste plank.", pv: "dook" },
        { zin: "Haar moeder naaide een jurk voor het feest.", pv: "naaide" },
        { zin: "De timmerman bouwde een mooie kast.", pv: "bouwde" },
        { zin: "Het konijn at de wortels in de tuin op.", pv: "at" },
        { zin: "De muzikant speelde een mooi stuk op de piano.", pv: "speelde" },
        { zin: "Zijn oma breide een warme trui.", pv: "breide" },
        { zin: "De tuinman plantte rozen langs het pad.", pv: "plantte" },
        { zin: "Het paard galoppeerde over het weiland.", pv: "galoppeerde" },
        { zin: "De fotograaf maakte een prachtige foto.", pv: "maakte" },
        { zin: "Haar vader rijdt elke dag naar zijn werk.", pv: "rijdt" },
        { zin: "De bibliotheekmedewerker hielp het kind zoeken.", pv: "hielp" },
        { zin: "Het theekopje viel van de tafel.", pv: "viel" },
        { zin: "De ober bracht de soep naar de tafel.", pv: "bracht" },
        { zin: "Zijn zusje klom in de grote boom.", pv: "klom" },
        { zin: "De monteur repareerde de kapotte auto.", pv: "repareerde" },
        { zin: "Het water kookte al na vijf minuten.", pv: "kookte" },
        { zin: "De jongen gooide stenen in de vijver.", pv: "gooide" },
        { zin: "Haar vriendin zong uit volle borst.", pv: "zong" },
        { zin: "De boom viel om tijdens de storm.", pv: "viel" },
        { zin: "Zijn moeder kookte elke dag een warme maaltijd.", pv: "kookte" },
        { zin: "De brandweer bluste het vuur snel.", pv: "bluste" },
        { zin: "Het kleine jongetje won de sprintrace.", pv: "won" },
        { zin: "De kat sloop door het hoge gras.", pv: "sloop" },
        { zin: "Haar broer schreef een lang gedicht.", pv: "schreef" },
        { zin: "De vlieger steeg hoog in de lucht.", pv: "steeg" },
        { zin: "Zijn opa vertelde verhalen over de oorlog.", pv: "vertelde" },
        { zin: "De slager sneed het vlees in mooie stukken.", pv: "sneed" },
        { zin: "Het ijsje smolt in de zon.", pv: "smolt" },
        { zin: "De kapper knipte haar haar heel kort.", pv: "knipte" },
        { zin: "Haar opa wandelde elke dag langs de rivier.", pv: "wandelde" },
        { zin: "De piloot landde het vliegtuig heel soepel.", pv: "landde" },
        { zin: "Het publiek stond op en klapte.", pv: "stond" },
        { zin: "De kat likte haar pootje na het eten.", pv: "likte" },
        { zin: "Zijn tante bakte pannenkoeken voor de kinderen.", pv: "bakte" },
        { zin: "De dief vluchtte snel om de hoek.", pv: "vluchtte" },
        { zin: "Het meisje wreef haar handen warm.", pv: "wreef" },
        { zin: "De koe graasde rustig op het veld.", pv: "graasde" },
    ];

    // Shuffle functie (Fisher-Yates)
    function shuffle(arr) {
        const a = [...arr];
        for (let i = a.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [a[i], a[j]] = [a[j], a[i]];
        }
        return a;
    }

    // Bij elke start worden de oefeningen willekeurig geschud
    let oefeningen = shuffle(alleOefeningen);

    let huidigIndex = 0;
    let aantalGoed  = 0;
    let aantalFout  = 0;
    let bezig       = false;
    let feedbackTimer = null;

    // ============================================================
    // LAAD OEFENING
    // ============================================================
    function laadOefening(index) {
        if (index >= oefeningen.length) { toonEindscherm(); return; }
        document.getElementById('questionSentence').textContent = oefeningen[index].zin;
        const inp = document.getElementById('antwoordInput');
        inp.value = '';
        inp.disabled = false;
        inp.focus();
        bezig = false;
    }

    // ============================================================
    // SCORE
    // ============================================================
    function updateScore() {
        document.getElementById('aantalGoed').textContent = aantalGoed;
        document.getElementById('aantalFout').textContent = aantalFout;
        document.getElementById('scoreTeller').textContent =
            aantalGoed + ' / ' + (aantalGoed + aantalFout);
    }

    function resetScore() {
        aantalGoed = aantalFout = huidigIndex = 0;
        updateScore();
        sluitAlleFeedback();
        document.getElementById('oefeningCard').style.display = 'block';
        document.getElementById('questionCard').style.display = 'block';
        document.getElementById('eindscherm').style.display   = 'none';
        laadOefening(0);
    }

    // ============================================================
    // CONTROLEER
    // ============================================================
    function controleer() {
        if (bezig) return;
        if (!document.getElementById('modalHint').classList.contains('hidden')) return;

        const inp    = document.getElementById('antwoordInput');
        const invoer = inp.value.trim().toLowerCase();
        const juist  = oefeningen[huidigIndex].pv.toLowerCase();
        if (!invoer) return;

        bezig = true;
        inp.disabled = true;

        if (invoer === juist) {
            aantalGoed++;
            updateScore();
            toonFeedback('goed', '"' + oefeningen[huidigIndex].pv + '" is correct!', 1400);
        } else {
            aantalFout++;
            updateScore();
            toonFeedback('fout', 'Het antwoord is: ' + oefeningen[huidigIndex].pv, 2000);
        }
    }

    // ============================================================
    // FEEDBACK POPUP
    // ============================================================
    function toonFeedback(type, subtekst, duur) {
        sluitAlleFeedback();

        if (type === 'goed') {
            document.getElementById('feedbackGoedSub').textContent = subtekst;
            document.getElementById('feedbackGoed').classList.remove('hidden');
        } else {
            document.getElementById('feedbackFoutSub').textContent = subtekst;
            document.getElementById('feedbackFout').classList.remove('hidden');
        }

        feedbackTimer = setTimeout(() => {
            sluitAlleFeedback();
            huidigIndex++;
            laadOefening(huidigIndex);
        }, duur);
    }

    function sluitAlleFeedback() {
        document.getElementById('feedbackGoed').classList.add('hidden');
        document.getElementById('feedbackFout').classList.add('hidden');
        if (feedbackTimer) { clearTimeout(feedbackTimer); feedbackTimer = null; }
    }

    // ============================================================
    // HINT
    // ============================================================
    function showHint() {
        document.getElementById('hintAntwoord').textContent = oefeningen[huidigIndex].pv;
        document.getElementById('modalHint').classList.remove('hidden');
    }

    function sluitHint() {
        document.getElementById('modalHint').classList.add('hidden');
        if (!bezig) document.getElementById('antwoordInput').focus();
    }

    // ============================================================
    // EINDSCHERM
    // ============================================================
    function toonEindscherm() {
        document.getElementById('oefeningCard').style.display = 'none';
        document.getElementById('questionCard').style.display = 'none';
        document.getElementById('eindscherm').style.display   = 'block';
        const totaal = aantalGoed + aantalFout;
        document.getElementById('eindScore').textContent = aantalGoed + ' / ' + totaal;
        const r = totaal > 0 ? aantalGoed / totaal : 0;
        document.getElementById('eindBericht').textContent =
            r === 1   ? 'üåü Fantastisch! Alles goed!' :
            r >= 0.75 ? 'üëç Goed gedaan! Blijf oefenen!' :
            r >= 0.5  ? 'üôÇ Aardig werk, oefen nog wat meer.' :
                        'üí™ Blijf oefenen, het lukt je!';
    }

    function herstart() {
        oefeningen = shuffle(alleOefeningen);  // nieuwe volgorde bij elke herstart
        aantalGoed = aantalFout = huidigIndex = 0;
        updateScore();
        document.getElementById('oefeningCard').style.display = 'block';
        document.getElementById('questionCard').style.display = 'block';
        document.getElementById('eindscherm').style.display   = 'none';
        laadOefening(0);
    }

    // ============================================================
    // ENTER
    // ============================================================
    document.getElementById('antwoordInput').addEventListener('keydown', e => {
        if (e.key === 'Enter') controleer();
    });

    document.addEventListener('keydown', e => {
        if (e.key === 'Enter') {
            if (!document.getElementById('modalHint').classList.contains('hidden')) {
                sluitHint();
            }
        }
    });

    // ============================================================
    // START
    // ============================================================
    laadOefening(0);
    updateScore();
</script>
</body>
</html>
